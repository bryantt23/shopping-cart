(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{27:function(t,e,r){},33:function(t,e,r){},34:function(t,e,r){"use strict";r.r(e);var c=r(0),n=r(1),a=r.n(n),s=r(20),i=r.n(s),o=(r(27),r(5)),d=r(6),j=r(8),u=r(7),l=r(4),h=r(2),b=function(t){Object(j.a)(r,t);var e=Object(u.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(l.b,{to:"/catalog",children:Object(c.jsx)("button",{onClick:function(){},children:"Shop and get healthy"})})})}}]),r}(n.Component),p=r(14),O=function(t){Object(j.a)(r,t);var e=Object(u.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){var t=this.props.product;return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{style:{maxHeight:300},alt:"blah",src:t.src}),Object(c.jsxs)("p",{children:[t.name," $",t.price]})]})}}]),r}(n.Component),x=function(t){Object(j.a)(r,t);var e=Object(u.a)(r);function r(t){var c;return Object(o.a)(this,r),(c=e.call(this,t)).increaseInCart=function(t){var e={command:"increase",id:t};c.props.updateCart(e)},c.decreaseFromCart=function(t){var e={command:"decrease",id:t};c.props.updateCart(e)},c.removeFromCart=function(t){var e={command:"remove",id:t};c.props.updateCart(e)},c}return Object(d.a)(r,[{key:"renderProductsInCart",value:function(){for(var t=this,e=this.props,r=e.cart,n=e.products,a=[],s=function(){var e=Object(p.a)(o[i],2),r=e[0],s=e[1];console.log("".concat(r,": ").concat(s));var d=n[r];a.push(Object(c.jsxs)("div",{id:r,children:[Object(c.jsx)(O,{product:d}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{disabled:1===s,onClick:function(){return t.decreaseFromCart(r)},children:"-"}),Object(c.jsx)("span",{children:s})," ",Object(c.jsx)("button",{onClick:function(){return t.increaseInCart(r)},children:"+"}),Object(c.jsx)("button",{onClick:function(){return t.removeFromCart(r)},children:"Remove from cart"})]})]},r))},i=0,o=Object.entries(r);i<o.length;i++)s();return a}},{key:"render",value:function(){var t=this.renderProductsInCart();return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Your cart"}),t.length>0?Object(c.jsxs)("div",{children:[Object(c.jsx)(l.b,{to:"/submit",children:Object(c.jsx)("button",{onClick:function(){},children:"Submit Order"})}),t]}):Object(c.jsx)("h3",{children:"Your cart is empty"})]})}}]),r}(n.Component);var C=function(t){var e=Object(h.f)(),r=t.products.map((function(t){return Object(c.jsx)("div",{onClick:function(){e.push("/product/".concat(t.id))},children:Object(c.jsx)(O,{product:t},t.id)},t.id)}));return Object(c.jsx)("div",{children:r})},f=(r(33),function(t){Object(j.a)(r,t);var e=Object(u.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"render",value:function(){return Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{to:"/",children:"Home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{to:"/cart",children:"Cart"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{to:"/catalog",children:"Catalog"})}),Object(c.jsx)("li",{style:{float:"right",paddingLeft:5},children:Object(c.jsxs)("p",{class:"header-text",children:["Total cost: $",this.props.totalCost]})}),Object(c.jsx)("li",{style:{float:"right"},children:Object(c.jsxs)("p",{class:"header-text",children:["Cart Count: ",this.props.itemsInCart]})})]})})}}]),r}(n.Component)),v=function(t){Object(j.a)(r,t);var e=Object(u.a)(r);function r(t){var c;return Object(o.a)(this,r),(c=e.call(this,t)).addToCart=function(t){c.setState({addToOrderClicked:!0});var e={command:"increase",id:t};c.props.updateCart(e)},c.state={addToOrderClicked:!1},c}return Object(d.a)(r,[{key:"render",value:function(){var t=this,e=this.props.productId.history.location.pathname.split("/"),r=e[e.length-1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{style:{maxHeight:300},alt:"blah",src:this.props.products[r].src},r),Object(c.jsxs)("p",{children:[this.props.products[r].name," $",this.props.products[r].price]}),Object(c.jsx)("button",{onClick:function(){return t.addToCart(r)},children:"Add to Cart"}),this.state.addToOrderClicked&&Object(c.jsx)(l.b,{to:"/cart",children:Object(c.jsx)("button",{onClick:function(){},children:"Complete Order"})}),Object(c.jsx)(l.b,{to:"/catalog",children:Object(c.jsx)("button",{onClick:function(){},children:"Go Back"})})]})}}]),r}(n.Component),m=function(t){Object(j.a)(r,t);var e=Object(u.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"renderProductsInCart",value:function(){for(var t=this.props,e=t.cart,r=t.products,n=[],a=0,s=Object.entries(e);a<s.length;a++){var i=Object(p.a)(s[a],2),o=i[0],d=i[1];console.log("".concat(o,": ").concat(d));var j=r[o];n.push(Object(c.jsxs)("div",{id:o,children:[Object(c.jsx)(O,{product:j}),"x ",Object(c.jsx)("span",{children:d})]},o))}return n}},{key:"render",value:function(){var t=this.renderProductsInCart();return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Your order has been placed"}),Object(c.jsxs)("h3",{children:[this.props.itemsInCart," ",1===this.props.itemsInCart?" item":" items"," for a Total Cost of $",this.props.totalCost]}),t]})}}]),r}(n.Component),g=[{id:0,name:"Protein powder",price:30,src:r.p+"static/media/protein-powder.90381793.jpg"},{id:1,name:"Greens",price:15,src:r.p+"static/media/greens.5f833d87.jpg"},{id:2,name:"Healthy fats",price:10,src:r.p+"static/media/healthy-fats.7e302c63.jpg"}],k=function(t){Object(j.a)(r,t);var e=Object(u.a)(r);function r(){var t;return Object(o.a)(this,r),(t=e.call(this)).updateCart=function(e){var r=e.command,c=e.id;if("remove"===r){var n=t.state.cart;delete n[c],t.setState({cart:n})}else if("increase"===r){var a=t.state.cart;t.state.cart[c]||(a[c]=0),a[c]=a[c]+1,t.setState({cart:a})}else if("decrease"===r){var s=t.state.cart;s[c]=s[c]-1,t.setState({cart:s})}var i=Object.values(t.state.cart).reduce((function(t,e){return t+e}),0),o=0;for(var d in t.state.cart){var j=d,u=t.state.cart[d];o+=g[j].price*u}t.setState({itemsInCart:i,totalCost:o})},t.state={cart:{},itemsInCart:0,totalCost:0},t}return Object(d.a)(r,[{key:"render",value:function(){var t=this,e=this.state,r=e.itemsInCart,n=e.cart,a=e.totalCost;return Object(c.jsx)(l.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{cart:n,itemsInCart:r,totalCost:a}),Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{path:"/catalog",children:Object(c.jsx)(C,{products:g})}),Object(c.jsx)(h.a,{path:"/cart",children:Object(c.jsx)(x,{cart:n,products:g,updateCart:this.updateCart})}),Object(c.jsx)(h.a,{path:"/submit",children:Object(c.jsx)(m,{cart:n,products:g,itemsInCart:r,totalCost:a})}),Object(c.jsx)(h.a,{path:"/product",render:function(e){return Object(c.jsx)(v,{productId:e,cart:n,products:g,updateCart:t.updateCart})}}),Object(c.jsx)(h.a,{path:"/",children:Object(c.jsx)(b,{})})]})]})})}}]),r}(n.Component),y=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,35)).then((function(e){var r=e.getCLS,c=e.getFID,n=e.getFCP,a=e.getLCP,s=e.getTTFB;r(t),c(t),n(t),a(t),s(t)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(k,{})}),document.getElementById("root")),y()}},[[34,1,2]]]);
//# sourceMappingURL=main.9cf8455d.chunk.js.map